<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>تسجيل الدخول - صالون لمسة إبداعية</title>
<style>
body {
    font-family:'Cairo',sans-serif;
    background:#111;
    color:#fff;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    min-height:100vh;
    margin:0;
    padding:0;
}
header {
    width:100%;
    background:#1a1a1a;
    padding:15px 0;
    text-align:center;
    border-bottom:1px solid #333;
}
header .logo-container {
    display:inline-block;
    border:4px solid gold;
    border-radius:50%;
    padding:5px;
    box-shadow:0 0 15px gold;
    margin-bottom:10px;
}
header .logo-container img {
    width:100px;
    height:100px;
    border-radius:50%;
    object-fit:cover;
}
header h1 {
    font-size:1.3rem;
    color:gold;
    margin:0;
}
.login-box {
    background:#1a1a1a;
    padding:30px 25px;
    border-radius:15px;
    box-shadow:0 0 25px rgba(255,215,0,0.3);
    width:350px;
    max-width:90%;
    text-align:center;
    margin-top:40px;
}
.login-box:hover { box-shadow:0 0 35px rgba(255,215,0,0.5); }

h2 { color:gold; margin-bottom:20px; text-shadow:0 0 10px gold; font-size:1.5rem; }

.input-group { position:relative; margin:12px 0; text-align:left; }
.input-group label { display:block; margin-bottom:5px; }
.input-group input, .input-group select {
    width:100%;
    padding:12px;
    border:none;
    border-radius:8px;
    background:#222;
    color:#fff;
    font-size:1rem;
    box-sizing:border-box;
}

button {
    width:100%;
    padding:12px;
    margin-top:15px;
    background:gold;
    color:#111;
    font-weight:bold;
    border:none;
    border-radius:8px;
    cursor:pointer;
    transition:0.3s;
    font-size:1rem;
}
button:hover {
    transform:translateY(-2px);
    box-shadow:0 0 15px gold;
}
.add-user-btn {
    background:#2a5298;
    color:#fff;
}
@media(max-width:480px){
    .login-box { padding:20px 15px; }
    h2 { font-size:1.3rem; }
    .input-group input, .input-group select { font-size:0.95rem; padding:10px; }
    button { font-size:0.95rem; padding:10px; }
}
</style>
</head>
<body>

<header>
    <div class="logo-container">
        <img src="logo.jpg" alt="Logo">
    </div>
    <h1>تسجيل الدخول</h1>
</header>

<div class="login-box">
    <h2>تسجيل الدخول</h2>

    <div class="input-group">
        <label for="role">اختر النوع:</label>
        <select id="role">
            <option value="employee">موظف</option>
            <option value="admin">مدير</option>
        </select>
    </div>

    <div class="input-group">
        <label for="username">اسم المستخدم:</label>
        <input type="text" id="username" placeholder="اسم المستخدم">
    </div>

    <div class="input-group">
        <label for="password">كلمة المرور:</label>
        <input type="password" id="password" placeholder="كلمة المرور">
    </div>

    <button onclick="login()">دخول</button>
    <button class="add-user-btn" onclick="addUser()" style="display:none;" id="addUserBtn">إضافة مستخدم جديد</button>
</div>

<script>
// بيانات المدير الثابتة
const ADMIN_USER = "admin";
const ADMIN_PASS = "12345";

// بيانات الموظفين
let workers = JSON.parse(localStorage.getItem("workers") || "[]");

// إظهار زر إضافة المستخدم للمدير فقط
document.getElementById("role").addEventListener("change", function(){
    document.getElementById("addUserBtn").style.display = this.value==="admin"?"inline-block":"none";
});

function login(){
    const role = document.getElementById("role").value;
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();

    if(!username || !password){ alert("يرجى إدخال اسم المستخدم وكلمة المرور"); return; }

    if(role==="admin"){
        if(username===ADMIN_USER && password===ADMIN_PASS){
            localStorage.setItem("isAdminLoggedIn","true");
            window.location.href="admin-dashboard.html";
        } else alert("اسم المستخدم أو كلمة المرور غير صحيحة للمدير");
    } else {
        // الموظف
        const emp = workers.find(w=>w.name===username && w.password===password);
        if(emp){
            localStorage.setItem("currentEmployee", emp.name);
            window.location.href="employee-dashboard.html";
        } else alert("اسم المستخدم أو كلمة المرور غير صحيحة للموظف");
    }
}

// إضافة مستخدم جديد
function addUser(){
    const name = prompt("ادخل اسم الموظف الجديد:");
    if(!name) return;
    const password = prompt("ادخل كلمة المرور للموظف:");
    if(!password) return;
    // حفظ المستخدم الجديد
    workers.push({name, password, sales:[]});
    localStorage.setItem("workers", JSON.stringify(workers));
    alert("تم إضافة الموظف بنجاح");
}
</script>

</body>
</html>
